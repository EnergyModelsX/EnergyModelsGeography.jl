<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Update models · EnergyModelsGeography</title><meta name="title" content="Update models · EnergyModelsGeography"/><meta property="og:title" content="Update models · EnergyModelsGeography"/><meta property="twitter:title" content="Update models · EnergyModelsGeography"/><meta name="description" content="Documentation for EnergyModelsGeography."/><meta property="og:description" content="Documentation for EnergyModelsGeography."/><meta property="twitter:description" content="Documentation for EnergyModelsGeography."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EnergyModelsGeography</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/quick-start/">Quick Start</a></li><li><a class="tocitem" href="../../manual/philosophy/">Philosophy</a></li><li><a class="tocitem" href="../../manual/optimization-variables/">Optimization variables</a></li><li><a class="tocitem" href="../../manual/constraint-functions/">Constraint functions</a></li><li><a class="tocitem" href="../../manual/simple-example/">Example</a></li><li><a class="tocitem" href="../../manual/investments/">Investment options</a></li><li><a class="tocitem" href="../../manual/NEWS/">Release notes</a></li></ul></li><li><span class="tocitem">Areas and Modes</span><ul><li><a class="tocitem" href="../../area_mode/area/">Areas</a></li><li><a class="tocitem" href="../../area_mode/corridor/">Transmission corridor</a></li><li><a class="tocitem" href="../../area_mode/mode/">Transmission modes</a></li></ul></li><li><span class="tocitem">How to</span><ul><li class="is-active"><a class="tocitem" href>Update models</a><ul class="internal"><li><a class="tocitem" href="#how_to-update-10"><span>Adjustments from 0.10.x</span></a></li><li><a class="tocitem" href="#how_to-update-09"><span>Adjustments from 0.9.x</span></a></li><li><a class="tocitem" href="#how_to-update-07"><span>Adjustments from 0.7.x</span></a></li></ul></li><li><a class="tocitem" href="../contribute/">Contribute to EnergyModelsGeography</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">Public</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../library/public/area/">Areas</a></li><li><a class="tocitem" href="../../library/public/transmission/">Transmission</a></li><li><a class="tocitem" href="../../library/public/mode/">TransmissionMode</a></li><li><a class="tocitem" href="../../library/public/case_element/">Case</a></li><li><a class="tocitem" href="../../library/public/emi_extension/">EMI extension</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../library/internals/functions/">Functions</a></li><li><a class="tocitem" href="../../library/internals/methods_EMB/">Methods <code>EnergyModelsBase</code></a></li><li><a class="tocitem" href="../../library/internals/methods_EMIExt/">Methods <code>EnergyModelsInvestments</code></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">How to</a></li><li class="is-active"><a href>Update models</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Update models</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsGeography.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsGeography.jl/blob/main/docs/src/how-to/update-models.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="how_to-update"><a class="docs-heading-anchor" href="#how_to-update">Update your model to the latest versions</a><a id="how_to-update-1"></a><a class="docs-heading-anchor-permalink" href="#how_to-update" title="Permalink"></a></h1><p><code>EnergyModelsGeography</code> is still in a pre-release version. Hence, there are frequently breaking changes occuring, although we plan to keep backwards compatibility. This document is designed to provide users with information regarding how they have to adjust their models to keep compatibility to the latest changes. We will as well implement information regarding the adjustment of extension packages, although this is more difficult due to the vast majority of potential changes.</p><h2 id="how_to-update-10"><a class="docs-heading-anchor" href="#how_to-update-10">Adjustments from 0.10.x</a><a id="how_to-update-10-1"></a><a class="docs-heading-anchor-permalink" href="#how_to-update-10" title="Permalink"></a></h2><h3 id="how_to-update-10-case"><a class="docs-heading-anchor" href="#how_to-update-10-case">Input case</a><a id="how_to-update-10-case-1"></a><a class="docs-heading-anchor-permalink" href="#how_to-update-10-case" title="Permalink"></a></h3><p>Starting from version 0.11.0, we introduced a new input format to the function <code>create_model</code>. The original case dictionary is replaced with a new type, <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/case_element/#EnergyModelsBase.Case"><code>Case</code></a>. Backwards-compatible methods are available to use with the original dictionary, however these are deprecated and we advise to switch to the new type:</p><pre><code class="language-julia hljs"># Old structure:
case = Dict(
    :areas =&gt; Array{Area}(areas),
    :transmission =&gt; Array{Transmission}(transmission),
    :nodes =&gt; Array{EMB.Node}(nodes),
    :links =&gt; Array{Link}(links),
    :products =&gt; products,
    :T =&gt; T,
)

# New structure:
case = Case(
    T,
    products,
    [nodes, links, areas, transmissions],
    [[get_nodes, get_links], [get_areas, get_transmissions]],
)</code></pre><p>Furthermore, we reworked the design for inclusion of emission and OPEX variables.</p><h3 id="how_to-update-10-emissions"><a class="docs-heading-anchor" href="#how_to-update-10-emissions">Modes with emissions</a><a id="how_to-update-10-emissions-1"></a><a class="docs-heading-anchor-permalink" href="#how_to-update-10-emissions" title="Permalink"></a></h3><p>It is now necessary to provide a new method to the function <a href="../../library/internals/methods_EMB/#EnergyModelsBase.has_emissions"><code>EnergyModelsBase.has_emissions</code></a> if you plan to include <a href="../../library/public/mode/#EnergyModelsGeography.TransmissionMode"><code>TransmissionMode</code></a>s with emissions instead of a separate function declared within <code>EnergyModelsGeography</code>. In addition, the function <code>emission</code> was renamed to <a href="../../library/internals/functions/#EnergyModelsGeography.emissions"><code>EnergyModelsGeography.emissions</code></a> and, if not called with a <code>TimePeriod</code> as input argument, returns a <code>TimeProfile</code> instead of a Real.</p><h2 id="how_to-update-09"><a class="docs-heading-anchor" href="#how_to-update-09">Adjustments from 0.9.x</a><a id="how_to-update-09-1"></a><a class="docs-heading-anchor-permalink" href="#how_to-update-09" title="Permalink"></a></h2><h3 id="how_to-update-09-mode"><a class="docs-heading-anchor" href="#how_to-update-09-mode">Key changes for transmission mode descriptions</a><a id="how_to-update-09-mode-1"></a><a class="docs-heading-anchor-permalink" href="#how_to-update-09-mode" title="Permalink"></a></h3><p>Version 0.10 removed the keyword definition of <a href="../../library/public/mode/#EnergyModelsGeography.PipeSimple"><code>PipeSimple</code></a> and <a href="../../library/public/mode/#EnergyModelsGeography.PipeLinepackSimple"><code>PipeLinepackSimple</code></a>. A key aim behind this removal is to avoid having to specify the fields if one does not provide a value to the data or the directions field. This was solved through</p><ol><li>an internal constructor only allowing for unidirectional pipelines and</li><li>an external constructor for cases in which the field <code>data</code> is not specified.</li></ol><p>Bidirectional transport for pipelines was removed as the model did not support it. A key factor here is the <code>consuming</code> resource which is required for pumping or compression energy demand. In the case of bidirectional transport, the <code>consuming</code> resource is consumed in the <code>from</code> region. In the case of reversed flow, this would lead to undesired behavior. Previously, warnings were printed. We consider it to be more consistent with the framework philosophy to remove that potential source of error.</p><div class="admonition is-danger" id="New-subtypes-for-PipeMode-5bd6f227617c7038"><header class="admonition-header">New subtypes for `PipeMode`<a class="admonition-anchor" href="#New-subtypes-for-PipeMode-5bd6f227617c7038" title="Permalink"></a></header><div class="admonition-body"><p>It is still possible for the user to provide new <a href="../../library/public/mode/#EnergyModelsGeography.PipeMode"><code>PipeMode</code></a>s that provide bidirectional transport. In this case, it is necessary to provide new methods for <a href="../../manual/constraint-functions/#man-con-cap"><code>constraints_capacity</code></a> and <a href="../../manual/constraint-functions/#man-con-trans_loss"><code>constraints_trans_loss</code></a>. Otherwise, warnings will be provided and unidirectional transport used.</p><p>The variable OPEX calculation is wrong if you receive the warnings.</p></div></div><p>The translations below describe the keyword constructor. You only have to remove the entry to the field of directions.</p><div class="admonition is-info" id="Timeline-for-constructors-d064d2626f5ee057"><header class="admonition-header">Timeline for constructors<a class="admonition-anchor" href="#Timeline-for-constructors-d064d2626f5ee057" title="Permalink"></a></header><div class="admonition-body"><p>The legacy constructors for calls of the composite types of version 0.9 will be included at least until version 0.11. However, it is recommended to update your model as soon as possible to the latest version.</p></div></div><h3 id="[PipeSimple](@ref)"><a class="docs-heading-anchor" href="#[PipeSimple](@ref)"><a href="../../library/public/mode/#EnergyModelsGeography.PipeSimple"><code>PipeSimple</code></a></a><a id="[PipeSimple](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[PipeSimple](@ref)" title="Permalink"></a></h3><pre><code class="language-julia hljs"># The previous description for PipeSimple was given by:
PipeSimple(;
    id::String,
    inlet::EMB.Resource,
    outlet::EMB.Resource,
    consuming::EMB.Resource,
    consumption_rate::TimeProfile,
    trans_cap::TimeProfile,
    trans_loss::TimeProfile,
    opex_var::TimeProfile,
    opex_fixed::TimeProfile,
    directions::Int = 1,            # This value cannot be specified any longer
    data::Vector{Data} = Data[],
)

# This translates to the following new version
 PipeSimple(
    id,
    inlet,
    outlet,
    consuming,
    consumption_rate,
    trans_cap,
    trans_loss,
    opex_var,
    opex_fixed,
    data,
)</code></pre><h3 id="[PipeLinepackSimple](@ref)"><a class="docs-heading-anchor" href="#[PipeLinepackSimple](@ref)"><a href="../../library/public/mode/#EnergyModelsGeography.PipeLinepackSimple"><code>PipeLinepackSimple</code></a></a><a id="[PipeLinepackSimple](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[PipeLinepackSimple](@ref)" title="Permalink"></a></h3><pre><code class="language-julia hljs"># The previous description for PipeLinepackSimple was given by:
PipeLinepackSimple(;
    id::String,
    inlet::EMB.Resource,
    outlet::EMB.Resource,
    consuming::EMB.Resource,
    consumption_rate::TimeProfile,
    trans_cap::TimeProfile,
    trans_loss::TimeProfile,
    opex_var::TimeProfile,
    opex_fixed::TimeProfile,
    energy_share::Float64,
    directions::Int = 1,            # This value cannot be specified any longer
    data::Vector{Data} = Data[],
)

# This translates to the following new version
PipeLinepackSimple(
    id,
    inlet,
    outlet,
    consuming,
    consumption_rate,
    trans_cap,
    trans_loss,
    opex_var,
    opex_fixed,
    energy_share,
    data,
)</code></pre><h2 id="how_to-update-07"><a class="docs-heading-anchor" href="#how_to-update-07">Adjustments from 0.7.x</a><a id="how_to-update-07-1"></a><a class="docs-heading-anchor-permalink" href="#how_to-update-07" title="Permalink"></a></h2><h3 id="[GeoAvailability](@ref)"><a class="docs-heading-anchor" href="#[GeoAvailability](@ref)"><a href="../../library/public/area/#EnergyModelsGeography.GeoAvailability"><code>GeoAvailability</code></a></a><a id="[GeoAvailability](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[GeoAvailability](@ref)" title="Permalink"></a></h3><p><code>GeoAvailability</code> nodes do not require any longer the data for <code>input</code> and <code>output</code>, as they utilize a constructor, if only a single array is given.</p><pre><code class="language-julia hljs"># The previous nodal description was given by:
GeoAvailability(
    id,
    input::Dict{&lt;:Resource,&lt;:Real},
    output::Dict{&lt;:Resource,&lt;:Real},
)

# This translates to the following new version
GeoAvailability(id, collect(keys(input)), collect(keys(output)))</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../area_mode/mode/">« Transmission modes</a><a class="docs-footer-nextpage" href="../contribute/">Contribute to EnergyModelsGeography »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Thursday 10 July 2025 13:06">Thursday 10 July 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
