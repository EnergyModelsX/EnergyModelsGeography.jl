<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Areas ¬∑ EnergyModelsGeography</title><meta name="title" content="Areas ¬∑ EnergyModelsGeography"/><meta property="og:title" content="Areas ¬∑ EnergyModelsGeography"/><meta property="twitter:title" content="Areas ¬∑ EnergyModelsGeography"/><meta name="description" content="Documentation for EnergyModelsGeography."/><meta property="og:description" content="Documentation for EnergyModelsGeography."/><meta property="twitter:description" content="Documentation for EnergyModelsGeography."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EnergyModelsGeography</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/quick-start/">Quick Start</a></li><li><a class="tocitem" href="../../manual/philosophy/">Philosophy</a></li><li><a class="tocitem" href="../../manual/optimization-variables/">Optimization variables</a></li><li><a class="tocitem" href="../../manual/constraint-functions/">Constraint functions</a></li><li><a class="tocitem" href="../../manual/simple-example/">Example</a></li><li><a class="tocitem" href="../../manual/investments/">Investment options</a></li><li><a class="tocitem" href="../../manual/NEWS/">Release notes</a></li></ul></li><li><span class="tocitem">Areas and Modes</span><ul><li class="is-active"><a class="tocitem" href>Areas</a><ul class="internal"><li><a class="tocitem" href="#area_mode-areas-areas"><span>Area</span></a></li><li><a class="tocitem" href="#area_mode-areas-availability"><span>GeoAvailability</span></a></li></ul></li><li><a class="tocitem" href="../corridor/">Transmission corridor</a></li><li><a class="tocitem" href="../mode/">Transmission modes</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../how-to/update-models/">Update models</a></li><li><a class="tocitem" href="../../how-to/contribute/">Contribute to EnergyModelsGeography</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><input class="collapse-toggle" id="menuitem-5-1" type="checkbox"/><label class="tocitem" for="menuitem-5-1"><span class="docs-label">Public</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../library/public/area/">Areas</a></li><li><a class="tocitem" href="../../library/public/transmission/">Transmission</a></li><li><a class="tocitem" href="../../library/public/mode/">TransmissionMode</a></li><li><a class="tocitem" href="../../library/public/case_element/">Case</a></li><li><a class="tocitem" href="../../library/public/emi_extension/">EMI extension</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../library/internals/functions/">Functions</a></li><li><a class="tocitem" href="../../library/internals/methods_EMB/">Methods <code>EnergyModelsBase</code></a></li><li><a class="tocitem" href="../../library/internals/methods_EMIExt/">Methods <code>EnergyModelsInvestments</code></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Areas and Modes</a></li><li class="is-active"><a href>Areas</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Areas</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsGeography.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsGeography.jl/blob/main/docs/src/area_mode/area.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="area_mode-areas"><a class="docs-heading-anchor" href="#area_mode-areas">Areas</a><a id="area_mode-areas-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas" title="Permalink"></a></h1><p>The concept of areas is introduced in <code>EnergyModelsGeography</code> to create energy systems with transmission between individual regions. As outlined in the <em><a href="../../manual/philosophy/#man-phil">philosophy section</a></em>, each <code>Area</code> can have a different local energy system with different units, CAPEX calculation approaches, and demands.</p><p>This page explains the fields of areas more specifically and introduces the different variables.</p><ul></ul><h2 id="area_mode-areas-areas"><a class="docs-heading-anchor" href="#area_mode-areas-areas">Area</a><a id="area_mode-areas-areas-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas-areas" title="Permalink"></a></h2><h3 id="area_mode-areas-areas-fields"><a class="docs-heading-anchor" href="#area_mode-areas-areas-fields">Introduced types and their fields</a><a id="area_mode-areas-areas-fields-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas-areas-fields" title="Permalink"></a></h3><p><code>EnergyModelsGeography</code> introduces two different areas, <a href="../../library/public/area/#EnergyModelsGeography.RefArea"><code>RefArea</code></a> and <a href="../../library/public/area/#EnergyModelsGeography.LimitedExchangeArea"><code>LimitedExchangeArea</code></a>. Both types include the following fields:</p><ul><li><p><strong><code>id</code></strong>:<br/>The field <code>id</code> is only used to provide an identifier for the area. This identifier can be a shortened version of the area name.</p></li><li><p><strong><code>name</code></strong>:<br/>The name of the <code>area</code> is used for printing an area to the Julia REPL, and hence, saving of variables. it can be only used as string input for the functions <a href="../../library/public/transmission/#EnergyModelsGeography.corr_from"><code>corr_from</code></a>, <a href="../../library/public/transmission/#EnergyModelsGeography.corr_to"><code>corr_to</code></a>, and <a href="../../library/public/transmission/#EnergyModelsGeography.corr_from_to"><code>corr_from_to</code></a>.</p></li><li><p><strong><code>lon::Real</code></strong>:<br/>The longitudinal position of the area is not directly used in <code>EnergyModelsGeography</code>. It is however possible for the user to provide additional functions which can utilize the longitude for distance calculations.</p></li><li><p><strong><code>lat::Real</code></strong>:<br/>The latitudinal position of the area is not directly used in <code>EnergyModelsGeography</code>. It is however possible for the user to provide additional functions which can utilize the latitude for distance calculations.</p></li><li><p><strong><code>node::Availability</code></strong>:<br/>The field <code>node</code> correspond to the <code>Availability</code> node of the <code>Area</code> that is utilized for exchanging resources with other areas. !!! danger &quot;Nodal type: It must by a <a href="../../library/public/area/#EnergyModelsGeography.GeoAvailability"><code>GeoAvailability</code></a> (or comparable nodes in which the energy balance is not calculated in the <code>create_node</code> function) as otherwise no energy transmission between this area and other areas is possible.</p><p>We decided to not limit it directly to <code>GeoAvailability</code> to allow the user to introduce other types of <code>Availability</code> nodes with potentially additional variables and constraints. It is however important to not calculate the energy balance within the <code>Availability</code> node.</p></li></ul><p><a href="../../library/public/area/#EnergyModelsGeography.LimitedExchangeArea"><code>LimitedExchangeArea</code></a> require an additional field:</p><ul><li><strong><code>limit::Dict{&lt;:EMB.Resource, &lt;:TimeProfile}</code></strong>:<br/>The exchange limit is the maximum amount of a resource that can be exported to other areas in each operational period. It is still possible to import from other regions, but the overall net export can not exceed the provided value.</li></ul><h3 id="area_mode-areas-areas-math"><a class="docs-heading-anchor" href="#area_mode-areas-areas-math">Mathematical description</a><a id="area_mode-areas-areas-math-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas-areas-math" title="Permalink"></a></h3><p>In the following mathematical equations, we use the name for variables and functions used in the model. Variables are in general represented as</p><p><span>$\texttt{var\_example}[index_1, index_2]$</span></p><p>with square brackets, while functions are represented as</p><p><span>$func\_example(index_1, index_2)$</span></p><p>with paranthesis.</p><p>In addition, we simplify the description as:</p><ul><li><span>$n = availability\_node(a)$</span><br/>corresponds to the availability node <span>$n$</span> in the area <span>$a$</span>.</li><li><span>$P^{ex} = exchange\_resources(L^{trans}, a)$</span><br/>correspond to the exchange resources <span>$P^{ex}$</span> of the area <span>$a$</span>, that is all resources that are either consumed in energy transmission or exchanged with connected areas.</li><li><span>$L^{from}, L^{to} = trans\_sub (L^{trans}, a)$</span><br/>are all transmission corridors that are either originating (superscript <em>from</em>) or ending (superscript <em>to</em>) in the area <span>$a$</span>.</li></ul><h4 id="area_mode-areas-areas-math-var"><a class="docs-heading-anchor" href="#area_mode-areas-areas-math-var">Variables</a><a id="area_mode-areas-areas-math-var-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas-areas-math-var" title="Permalink"></a></h4><p>The variables of <a href="../../library/public/area/#EnergyModelsGeography.Area"><code>Area</code></a>s include:</p><ul><li><a href="../../manual/optimization-variables/#man-opt_var-area"><span>$\texttt{area\_exchange}[a, t, p_{ex}]$</span></a></li></ul><h4 id="area_mode-areas-areas-math-con"><a class="docs-heading-anchor" href="#area_mode-areas-areas-math-con">Constraints</a><a id="area_mode-areas-areas-math-con-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas-areas-math-con" title="Permalink"></a></h4><p>The constraints for areas are calculated within a new method for the function <a href="../../library/internals/functions/#EnergyModelsGeography.create_area"><code>create_area</code></a> and <a href="../../library/internals/methods_EMB/#EnergyModelsBase.constraints_couple"><code>constraints_couple</code></a>. The function <a href="../../library/internals/methods_EMB/#EnergyModelsBase.constraints_couple"><code>constraints_couple</code></a> is the core function as it links the transmission to and from an area with a local energy system while the function <a href="../../library/internals/functions/#EnergyModelsGeography.create_area"><code>create_area</code></a> allows for providing additional constraints.</p><h5 id="area_mode-areas-areas-math-con-con"><a class="docs-heading-anchor" href="#area_mode-areas-areas-math-con-con"><code>constraints_couple</code></a><a id="area_mode-areas-areas-math-con-con-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas-areas-math-con-con" title="Permalink"></a></h5><p>The overall energy balance is solved within this function. We consider two cases:</p><ul><li><p>The resource is not an exchange resource:</p><p class="math-container">\[\texttt{flow\_out}[n, t, p] = \texttt{flow\_in}[n, t, p] \qquad \forall p \in inputs(n)  \setminus P^{ex}\]</p></li><li><p>The resource is an exchange resource:</p><p class="math-container">\[\texttt{flow\_out}[n, t, p_{ex}] = \texttt{flow\_in}[n, t, p_{ex}] + \texttt{area\_exchange}[a, t, p_{ex}] \qquad \forall p_{ex} \in P^{ex}\]</p></li></ul><p>In addition, we have to add constraints for the variable <span>$\texttt{area\_exchange}[a, t, p_{ex}]$</span>. This is achieved through the <em>compute</em> functions as</p><p class="math-container">\[\begin{aligned}
\texttt{area\_exchange}[a, t, p_{ex}] + &amp; \sum_{tm \in L^{from}} compute\_trans\_in(t, p_{ex}, tm) = \\
&amp; \sum_{tm \in L^{to}} compute\_trans\_out(t, p_{ex}, tm)
\end{aligned}\]</p><h5 id="area_mode-areas-areas-math-con-crea"><a class="docs-heading-anchor" href="#area_mode-areas-areas-math-con-crea"><code>create_area</code></a><a id="area_mode-areas-areas-math-con-crea-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas-areas-math-con-crea" title="Permalink"></a></h5><p>The <a href="../../library/public/area/#EnergyModelsGeography.RefArea"><code>RefArea</code></a> does not introduce additional constraints.</p><p>The <a href="../../library/public/area/#EnergyModelsGeography.LimitedExchangeArea"><code>LimitedExchangeArea</code></a> introduces additional constraints on the net export from the area. This constraint is given by</p><p class="math-container">\[\texttt{area\_exchange}[a, t, p] \geq - exchange\_limit(a, p, t) \qquad \forall p \in limit\_resources(a)\]</p><h2 id="area_mode-areas-availability"><a class="docs-heading-anchor" href="#area_mode-areas-availability">GeoAvailability</a><a id="area_mode-areas-availability-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas-availability" title="Permalink"></a></h2><p>The <a href="../../library/public/area/#EnergyModelsGeography.GeoAvailability"><code>GeoAvailability</code></a> node is introduced to allow the energy balance of an area being handled on the <a href="../../library/public/area/#EnergyModelsGeography.Area"><code>Area</code></a> level. It is in itself equivalent to the to <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/nodes/#EnergyModelsBase.GenAvailability"><code>GenAvailability</code></a> node with respect to introduced fields and variables. <em><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/nodes/availability/#nodes-availability">Availability node</a></em> provides a detailed description of availability nodes.</p><div class="admonition is-warning" id="Energy-exchange-5f79407d3d095bf5"><header class="admonition-header">Energy exchange<a class="admonition-anchor" href="#Energy-exchange-5f79407d3d095bf5" title="Permalink"></a></header><div class="admonition-body"><p>All energy exchange between different areas is routed through a <a href="../../library/public/area/#EnergyModelsGeography.GeoAvailability"><code>GeoAvailability</code></a> node. If you do not use a <a href="../../library/public/area/#EnergyModelsGeography.GeoAvailability"><code>GeoAvailability</code></a> node (<em>e.g.</em>, a <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/nodes/#EnergyModelsBase.GenAvailability"><code>GenAvailability</code></a> node or no availability node at all), you will not have energy transmission between different regions.</p></div></div><h3 id="area_mode-areas-availability-fields"><a class="docs-heading-anchor" href="#area_mode-areas-availability-fields">Introduced types and their fields</a><a id="area_mode-areas-availability-fields-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas-availability-fields" title="Permalink"></a></h3><p>The <a href="../../library/public/area/#EnergyModelsGeography.GeoAvailability"><code>GeoAvailability</code></a> node is similar to a <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/nodes/#EnergyModelsBase.GenAvailability"><code>GenAvailability</code></a>. It includes basic functionalities common to most energy system optimization models.</p><p>The fields of a <a href="../../library/public/area/#EnergyModelsGeography.GeoAvailability"><code>GeoAvailability</code></a> node are given as:</p><ul><li><strong><code>id</code></strong>:<br/>The field <code>id</code> is only used for providing a name to the node.</li><li><strong><code>input::Vector{&lt;:Resource}</code></strong> and <strong><code>output::Vector{&lt;:Resource}</code></strong>:<br/>Both fields describe the <code>input</code> and <code>output</code> <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/resources/#EnergyModelsBase.Resource"><code>Resource</code></a>s as vectors. This approach is different to all other nodes, but simplifies the overall design. It is necessary to specify the same <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/resources/#EnergyModelsBase.Resource"><code>Resource</code></a>s to allow for capacity usage in connected nodes.</li></ul><div class="admonition is-success" id="Constructor-GeoAvailability-a3f905b30966d5f9"><header class="admonition-header">Constructor `GeoAvailability`<a class="admonition-anchor" href="#Constructor-GeoAvailability-a3f905b30966d5f9" title="Permalink"></a></header><div class="admonition-body"><p>We require at the time being the specification of the fields <code>input</code> and <code>output</code> due to the way we identify the required flow and link variables. In practice, both fields should include the same <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/resources/#EnergyModelsBase.Resource"><code>Resource</code></a>s. To this end, we provide a simplified constructor in which you only have to specify one vector using the function</p><pre><code class="language-julia hljs">GeoAvailability(id, ùí´::Vector{&lt;:Resource})</code></pre></div></div><div class="admonition is-info" id="Naming-6b6ef4492d60e3fb"><header class="admonition-header">Naming<a class="admonition-anchor" href="#Naming-6b6ef4492d60e3fb" title="Permalink"></a></header><div class="admonition-body"><p>We are aware that <code>GeoAvailability</code> and <code>GenAvailability</code> look similar. We plan to rename one of them with the additional introduction of a constructor. In this case, we introduce breaking changes. We plan to collect as many potential issues as possible before the next breaking changes.</p></div></div><h3 id="area_mode-areas-availability-math"><a class="docs-heading-anchor" href="#area_mode-areas-availability-math">Mathematical description</a><a id="area_mode-areas-availability-math-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas-availability-math" title="Permalink"></a></h3><p>In the following mathematical equations, we use the name for variables and functions used in the model. Variables are in general represented as</p><p><span>$\texttt{var\_example}[index_1, index_2]$</span></p><p>with square brackets, while functions are represented as</p><p><span>$func\_example(index_1, index_2)$</span></p><p>with paranthesis.</p><h4 id="area_mode-areas-availability-math-var"><a class="docs-heading-anchor" href="#area_mode-areas-availability-math-var">Variables</a><a id="area_mode-areas-availability-math-var-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas-availability-math-var" title="Permalink"></a></h4><p>The variables of <a href="../../library/public/area/#EnergyModelsGeography.GeoAvailability"><code>GeoAvailability</code></a> nodes include:</p><ul><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/optimization-variables/#man-opt_var-flow"><span>$\texttt{flow\_in}$</span></a></li><li><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/optimization-variables/#man-opt_var-flow"><span>$\texttt{flow\_out}$</span></a></li></ul><h4 id="area_mode-areas-availability-math-con"><a class="docs-heading-anchor" href="#area_mode-areas-availability-math-con">Constraints</a><a id="area_mode-areas-availability-math-con-1"></a><a class="docs-heading-anchor-permalink" href="#area_mode-areas-availability-math-con" title="Permalink"></a></h4><p><code>GeoAvailability</code> nodes do not add any constraints. The overall energy balance is instead calculated on the <a href="../../library/public/area/#EnergyModelsGeography.Area"><code>Area</code></a> level as outlined above.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../manual/NEWS/">¬´ Release notes</a><a class="docs-footer-nextpage" href="../corridor/">Transmission corridor ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.12.0 on <span class="colophon-date" title="Monday 16 June 2025 09:00">Monday 16 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
